<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë„ì¿„ 3ë°• 4ì¼ ì¸í„°ë™í‹°ë¸Œ ì—¬í–‰ í”Œë˜ë„ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral -->
    <!-- Application Structure Plan: A tab-based SPA with an 'Overview' dashboard and daily views. The daily view is now a two-column layout on wider screens: the main timeline on the left, and a new 'Checklist & Tips' panel on the right. This increases information density and adds utility (task tracking) without overwhelming the user. Cards are still expandable for deep details. -->
    <!-- Visualization & Content Choices: Overview - Charts retained for a quick summary. Daily Itinerary - Interactive cards with richer content. New 'Checklist' feature (HTML/JS) with checkboxes for interactivity and progress tracking. This directly addresses the feedback for "more information" by making key tasks and tips permanently visible on each day's view. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #FDFBF8;
            color: #4A4A4A;
        }
        .nav-button {
            transition: all 0.3s ease;
            border-bottom: 4px solid transparent;
        }
        .nav-button.active {
            color: #D97706;
            border-bottom-color: #D97706;
        }
        .card {
            background-color: #FFFFFF;
            border-left: 5px solid #FBBF24;
            transition: all 0.3s ease;
        }
        .card-header {
            cursor: pointer;
        }
        .card-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, padding 0.5s ease-out;
        }
        .card-content.open {
            max-height: 2000px; /* Increased max-height for more content */
            transition: max-height 0.8s ease-in, padding 0.5s ease-in;
        }
        .heat-tip {
            background-color: #EFF6FF;
            border-left-color: #3B82F6;
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 280px;
            width: 100%;
            max-width: 400px;
        }
        .checklist-item input:checked + span {
            text-decoration: line-through;
            color: #9CA3AF;
        }
        .shop-detail {
            border-top: 1px solid #F3F4F6;
            padding-top: 0.75rem;
            margin-top: 0.75rem;
        }
        .shop-detail:first-child {
            border-top: none;
            padding-top: 0;
            margin-top: 0;
        }
        .map-link, .copy-button {
            display: inline-block;
            margin-left: 0.5rem;
            text-decoration: none;
            font-size: 1.1rem;
            transition: transform 0.2s ease, color 0.2s ease;
        }
        .map-link:hover, .copy-button:hover {
            transform: scale(1.2);
        }
        .copy-button {
            cursor: pointer;
        }
        .copy-button.copied {
            color: #10B981; /* Green-500 */
        }
        .memo-textarea {
            width: 100%;
            border-radius: 0.5rem;
            border: 1px solid #D1D5DB;
            padding: 0.5rem;
            font-size: 0.875rem;
            margin-top: 0.75rem;
            resize: vertical;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 320px;
                max-width: 500px;
            }
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto max-w-6xl p-4 sm:p-6">
        <header class="text-center mb-6">
            <h1 class="text-3xl md:text-4xl font-bold text-amber-700">ë„ì¿„ 3ë°• 4ì¼ 'ì‡¼í•‘ & ë§›ì§‘' ìµœì¢… ì‹¬í™” ì½”ìŠ¤</h1>
            <p class="mt-2 text-base md:text-lg text-gray-600">7ì›”ì˜ ë”ìœ„ë¥¼ í”¼í•˜ëŠ” ì¾Œì í•œ ì—¬í–‰ í”Œë˜ë„ˆ (2025ë…„ ê¸°ì¤€ ì •ë³´)</p>
        </header>

        <nav class="flex justify-center border-b-2 border-gray-200 mb-6">
            <button data-day="0" class="nav-button active text-sm sm:text-base font-bold py-3 px-2 sm:px-4">âœˆï¸ ê°œìš”</button>
            <button data-day="1" class="nav-button text-sm sm:text-base font-bold py-3 px-2 sm:px-4">ğŸ—“ï¸ 1ì¼ì°¨</button>
            <button data-day="2" class="nav-button text-sm sm:text-base font-bold py-3 px-2 sm:px-4">ğŸ—“ï¸ 2ì¼ì°¨</button>
            <button data-day="3" class="nav-button text-sm sm:text-base font-bold py-3 px-2 sm:px-4">ğŸ—“ï¸ 3ì¼ì°¨</button>
            <button data-day="4" class="nav-button text-sm sm:text-base font-bold py-3 px-2 sm:px-4">ğŸ—“ï¸ 4ì¼ì°¨</button>
        </nav>

        <main id="content-area">
        </main>
    </div>

    <script>
        let tripData = {
            0: {
                title: "ì—¬í–‰ ê°œìš” ë° ì¤€ë¹„",
                sections: [
                    {
                        title: "ì—¬í–‰ ê¸°ë³¸ ì •ë³´",
                        icon: "âœˆï¸",
                        items: [
                            { name: "í•­ê³µí¸", content: [{ detail: "<b>ì¶œêµ­:</b> 7/28(ì›”) 07:40 GMP â†’ 09:50 HND<br><b>ê·€êµ­:</b> 7/31(ëª©) 20:05 HND â†’ GMP" }] },
                            { name: "ìˆ™ì†Œ", content: [{ detail: "<b>1ì¼ì°¨:</b> Onyado Nono Asakusa Bettei (ì•„ì‚¬ì¿ ì‚¬)<br><b>2-3ì¼ì°¨:</b> Nohga Hotel Akihabara Tokyo (ì•„í‚¤í•˜ë°”ë¼)" }] },
                        ]
                    },
                    {
                        title: "ì—¬í–‰ ì¤€ë¹„ & ì˜ˆì•½ íŒ",
                        icon: "ğŸ’¡",
                        items: [
                            { name: "í•œêµ­ì—ì„œ ì¤€ë¹„", content: [{ detail: "eSIM/ìœ ì‹¬, ì—¬í–‰ì ë³´í—˜, 110V ë³€í™˜ ì–´ëŒ‘í„°, ê°ì¢… í‹°ì¼“ ì˜ˆë§¤" }] },
                            { name: "ì‹ë‹¹ ì˜ˆì•½ íŒ", content: [{ detail: "ì˜¨ë¼ì¸ ì˜ˆì•½(íƒ€ë² ë¡œê·¸ ë“±), í˜¸í…” ì»¨ì‹œì–´ì§€, êµ¬ê¸€ë§µ ì˜ˆì•½ ê¸°ëŠ¥ì„ ì ê·¹ í™œìš©í•˜ì„¸ìš”." }] },
                        ]
                    },
                ]
            },
            1: {
                title: "ì•„ì‚¬ì¿ ì‚¬ ì§‘ì¤‘ íƒë°©",
                theme: "ì „í†µê³¼ í˜„ëŒ€ê°€ ê³µì¡´í•˜ëŠ” ì•„ì‚¬ì¿ ì‚¬ì˜ ë‚®ê³¼ ë°¤",
                route_highlight: "í•˜ë£¨ ì¢…ì¼ ì•„ì‚¬ì¿ ì‚¬ ì§€ì—­ì— ë¨¸ë¬¼ë©°, ì„¼ì†Œì§€ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì£¼ë³€ ë§›ì§‘ê³¼ ê±°ë¦¬ë¥¼ íƒë°©í•˜ê³  ì €ë…ì—ëŠ” ìŠ¤ì¹´ì´íŠ¸ë¦¬ ë˜ëŠ” í˜¸í”¼ë„ë¦¬ë¡œ ì´ë™í•˜ëŠ” íš¨ìœ¨ì ì¸ ë™ì„ ì…ë‹ˆë‹¤.",
                checklist: [
                    { text: "ì‚¬ë£Œ ì¸ ë³´ì‹œíƒ€ì—ì„œ ë§ì°¨ ë””ì €íŠ¸ ë¨¹ê¸°", done: false },
                    { text: "í‚¤ë¹„ë‹¨ê³  ì•„ì¦ˆë§ˆì—ì„œ ë‹¹ê³  ë§›ë³´ê¸°", done: false },
                    { text: "ì•„ì‚¬ì¿ ì‚¬ ì¹´ê²Œì¸ ë„ ë©œë¡ ë¹µ êµ¬ë§¤", done: false },
                    { text: "ë°¤ì˜ ë¯¸ì…˜: ìŸˆì§€ ìš°ìœ  í‘¸ë”© ì°¾ê¸°", done: false }
                ],
                sections: [
                    {
                        time: "ì˜¤ì „ 10:00 ~ 11:30",
                        title: "ë„ì°© ë° ì¤€ë¹„",
                        items: [{ name: "í˜¸í…” ì§ ë³´ê´€", icon: "ğŸ›„", content: [{ detail: "í•˜ë„¤ë‹¤ ê³µí•­ ë„ì°© í›„ ê²Œì´íì„ ìœ¼ë¡œ 'ì•„ì‚¬ì¿ ì‚¬ì—­'ìœ¼ë¡œ ì´ë™, Onyado Nono Asakusa Bettei í˜¸í…”ì— ì§ ë§¡ê¸°ê¸°" }] }]
                    },
                    {
                        time: "ì˜¤ì „ 11:30 ~ ì˜¤í›„ 5:00",
                        title: "ì•„ì‚¬ì¿ ì‚¬ ë‚® ì½”ìŠ¤: ì„¼ì†Œì§€ ì£¼ë³€ íƒë°©",
                        items: [
                            { name: "ì ì‹¬ ì‹ì‚¬ (ì„ íƒ)", icon: "ğŸœ", content: [
                                { name: { kor: "í…ë™ í…ì•¼", jpn: "ã¦ã‚“ã‚„", eng: "Tendon Tenya" }, description: "ì••ë„ì ì¸ ê°€ì„±ë¹„ì˜ í…ë™ ì²´ì¸ì ", signatureMenu: "ê¸°ë³¸ í…ë™", menuDescription: "ë°¥ ìœ„ì— ê°ì¢… íŠ€ê¹€ì„ ì˜¬ë¦° ë®ë°¥", avgCostPerPerson: "ì•½ Â¥900 / â‚©8,100 (ê¸°ë³¸ í…ë™ + ë¯¸ì†Œì‹œë£¨)", tip: "ì›¨ì´íŒ… ê±°ì˜ ì—†ìŒ, ë¹ ë¥´ê³  ì €ë ´í•˜ê²Œ í•´ê²°" },
                                { name: { kor: "ë‹¤ì´ì½”ì¿ ì•¼ í…í‘¸ë¼", jpn: "å¤§é»’å®¶å¤©éº©ç¾…", eng: "Daikokuya Tempura" }, description: "ì°¸ê¸°ë¦„ìœ¼ë¡œ íŠ€ê¸´ ì´‰ì´‰í•œ ì „í†µ í…ë™", signatureMenu: "í…ë™", menuDescription: "ì§„í•œ ê°„ì¥ ì†ŒìŠ¤ì— í‘¹ ë‹´ê·¼ íŠ€ê¹€ ë®ë°¥", avgCostPerPerson: "ì•½ Â¥2,200 / â‚©19,800 (í…ë™ 1ê°œ ê¸°ì¤€)", tip: "ë°”ì‚­í•¨ë³´ë‹¤ ì§„í•œ ì†ŒìŠ¤ ë§›ì„ ì¦ê¸°ëŠ” ê³³. ì‹ì‚¬ ì‹œê°„ ì›¨ì´íŒ… ê¹€." },
                                { name: { kor: "ì†Œë©”íƒ€ë¡œ", jpn: "æŸ“å¤ªéƒ", eng: "Sometaro" }, description: "ì§ì ‘ ë§Œë“¤ì–´ ë¨¹ëŠ” ì²´í—˜í˜• ì˜¤ì½”ë…¸ë¯¸ì•¼í‚¤", signatureMenu: "ì˜¤ì½”ë…¸ë¯¸ì•¼í‚¤", menuDescription: "ì¬ë£Œë¥¼ ì„ì–´ ì² íŒì— ë¶€ì³ë¨¹ëŠ” ì¼ë³¸ì‹ ì „", avgCostPerPerson: "ì•½ Â¥1,600 / â‚©14,400 (ì˜¤ì½”ë…¸ë¯¸ì•¼í‚¤ 1ê°œ + ìŒë£Œ)", tip: "ì˜› ì¼ë³¸ ê°€ì˜¥ì˜ ì •ì·¨ë¥¼ ëŠë‚„ ìˆ˜ ìˆìŒ." },
                                { name: { kor: "ì•„ì‚¬ì¿ ì‚¬ ì´ë§ˆí•œ", jpn: "æµ…è‰ä»ŠåŠ", eng: "Asakusa Imahan" }, description: "100ë…„ ì—­ì‚¬ì˜ ìŠ¤í‚¤ì•¼í‚¤ ëª…ê°€", signatureMenu: "ìŠ¤í‚¤ì•¼í‚¤ ëŸ°ì¹˜ ì½”ìŠ¤", menuDescription: "ì†Œê³ ê¸°ì™€ ì±„ì†Œë¥¼ ë“ì—¬ ë‚ ë‹¬ê±€ì— ì°ì–´ ë¨¹ëŠ” ì „ê³¨", avgCostPerPerson: "ì ì‹¬ ì•½ Â¥5,500 / â‚©49,500 (ëŸ°ì¹˜ ì½”ìŠ¤ ê¸°ì¤€)", tip: "ì˜ˆì•½ í•„ìˆ˜. ì €ë…ë³´ë‹¤ í•©ë¦¬ì ì¸ ì ì‹¬ ì¶”ì²œ." },
                            ]},
                            { name: "ì „í†µ ë””ì €íŠ¸ & ê°„ì‹ íˆ¬ì–´", icon: "ğŸ¡", content: [
                                { name: { kor: "í‚¤ë¹„ë‹¨ê³  ì•„ì¦ˆë§ˆ", jpn: "ãã³ã ã‚“ã” ã‚ã¥ã¾", eng: "Kibidango Azuma" }, description: "ë”°ëˆí•˜ê³  ë¶€ë“œëŸ¬ìš´ ìˆ˜ìˆ˜ ê²½ë‹¨", signatureMenu: "í‚¤ë¹„ë‹¨ê³ ", menuDescription: "ì½©ê³ ë¬¼ì„ ë¬»íŒ ì‘ì€ ìˆ˜ìˆ˜ ê²½ë‹¨ ê¼¬ì¹˜", avgCostPerPerson: "ì•½ Â¥400 / â‚©3,600 (1ì¸ë¶„ ê¸°ì¤€)", tip: "ë‚˜ì¹´ë¯¸ì„¸ë„ë¦¬ ì´ˆì…ì— ìœ„ì¹˜. íšŒì „ìœ¨ì´ ë¹ ë¦„." },
                                { name: { kor: "ì•„ì‚¬ì¿ ì‚¬ ì¹´ê²Œì¸ ë„", jpn: "æµ…è‰èŠ±æœˆå ‚", eng: "Asakusa Kagetsudo" }, description: "ì–¼êµ´ë§Œ í•œ í¬ê¸°ì˜ ê±°ëŒ€ ë©œë¡ ë¹µ", signatureMenu: "ë©œë¡ ë¹µ", menuDescription: "ê²‰ì€ ë°”ì‚­, ì†ì€ ì´‰ì´‰í•œ ì¼ë³¸ ëŒ€í‘œ ê°„ì‹ ë¹µ", avgCostPerPerson: "ì•½ Â¥300 / â‚©2,700 (ë¹µ 1ê°œ ê¸°ì¤€)", tip: "ì„¼ì†Œì§€ ë³¸ë‹¹ ê·¼ì²˜ì— ìœ„ì¹˜." },
                                { name: { kor: "ì‚¬ë£Œ ì¸ ë³´ì‹œíƒ€", jpn: "èŒ¶å¯® ã¤ã¼å¸‚è£½èŒ¶æœ¬èˆ—", eng: "Saryo Tsuboichi" }, description: "ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ë¶„ìœ„ê¸°ì˜ ì „ë¬¸ ë§ì°¨ ì¹´í˜", signatureMenu: "ë§ì°¨ íŒŒë¥´í˜", menuDescription: "ë§ì°¨ ì•„ì´ìŠ¤í¬ë¦¼, íŒ¥, ë–¡ ë“±ì„ ì˜¬ë¦° ë””ì €íŠ¸", avgCostPerPerson: "ì•½ Â¥1,600 / â‚©14,400 (íŒŒë¥´í˜ 1ê°œ ê¸°ì¤€)", tip: "ë´ë³´ì¸ë„ë¦¬ ê·¼ì²˜. ì ì‹œ ì‰¬ì–´ê°€ê¸° ì¢‹ì€ ê³³." },
                                { name: { kor: "í›„ë¥´ì¸  íŒ”ëŸ¬ ê³ í† ", jpn: "ãƒ•ãƒ«ãƒ¼ãƒ„ãƒ‘ãƒ¼ãƒ©ãƒ¼ã‚´ãƒˆãƒ¼", eng: "Fruit Parlor Goto" }, description: "ì œì²  ê³¼ì¼ ë“¬ë¿ íŒŒë¥´í˜ ë§›ì§‘", signatureMenu: "ê³„ì ˆ ê³¼ì¼ íŒŒë¥´í˜", menuDescription: "ì‹ ì„ í•œ ì œì²  ê³¼ì¼ë¡œ ë§Œë“  í™”ë ¤í•œ íŒŒë¥´í˜", avgCostPerPerson: "ì•½ Â¥2,800 / â‚©25,200 (íŒŒë¥´í˜ 1ê°œ ê¸°ì¤€)", tip: "1ì‹œê°„ ì´ìƒ ì›¨ì´íŒ…ì€ ê¸°ë³¸. ì‹œê°„ì— ì—¬ìœ  ìˆì„ ë•Œ ë°©ë¬¸." },
                            ]},
                            { name: "ì£¼ë³€ ì‚°ì±… ë° í”¼ì„œ", icon: "ğŸš¶â€â™‚ï¸", type: "heat-tip", content: [{ detail: "<b>ì‚°ì±…:</b> ë´ë³´ì¸ë„ë¦¬ (ä¼æ³•é™¢é€šã‚Š / Denboin-dori) â†’ ìŠ¤ë¯¸ë‹¤ ê³µì› ê°•ë³€ ì‚°ì±…<br><b>ì‹¤ë‚´ í”¼ì„œ:</b> ì•„ì‚¬ì¿ ì‚¬ ë¬¸í™” ê´€ê´‘ ì„¼í„° 8ì¸µ ë¬´ë£Œ ì „ë§ëŒ€, ì‹ ë‚˜ì¹´ë¯¸ì„¸ ìƒì ê°€ (æ–°ä»²è¦‹ä¸–å•†åº—è¡— / Shin-Nakamise) êµ¬ê²½<br><b>ì§€í•˜ ì‡¼í•‘:</b> ì•„ì‚¬ì¿ ì‚¬ì—­ê³¼ ì—°ê²°ëœ ì¼ë³¸ì—ì„œ ê°€ì¥ ì˜¤ë˜ëœ ì§€í•˜ìƒê°€ì¸ ì•„ì‚¬ì¿ ì‚¬ ì§€í•˜ìƒê°€ (æµ…è‰åœ°ä¸‹è¡— / Asakusa Chikagai)ì—ì„œ ë ˆíŠ¸ë¡œí•œ ë¶„ìœ„ê¸°ë¥¼ ëŠê»´ë³´ì„¸ìš”." }] },
                        ]
                    },
                    {
                        time: "ì˜¤í›„ 5:00 ì´í›„",
                        title: "ì•„ì‚¬ì¿ ì‚¬ ë°¤ ì½”ìŠ¤: ì•¼ê²½ê³¼ ì €ë…",
                        items: [
                            { name: "í˜¸í…” ì²´í¬ì¸ ë° íœ´ì‹", icon: "â™¨ï¸", content: [{ detail: "í˜¸í…” ì²´í¬ì¸ í›„ ì˜¨ì²œ ì‹œì„¤ ì¦ê¸°ê¸°" }] },
                            { name: "ì €ë… & ì•¼ê²½ (ì„ íƒ)", icon: "ğŸŒƒ", content: [
                                { name: { kor: "Aì½”ìŠ¤: ìŠ¤ì¹´ì´íŠ¸ë¦¬", jpn: "æ±äº¬ã‚¹ã‚«ã‚¤ãƒ„ãƒªãƒ¼", eng: "Tokyo Skytree" }, description: "ì•„ì‚¬ì¿ ì‚¬ì—ì„œ ë„ë³´ ë˜ëŠ” ì§€í•˜ì² ë¡œ ì´ë™. ì•¼ê²½, ì‡¼í•‘, ì‹ì‚¬ë¥¼ í•œ ë²ˆì— í•´ê²°", signatureMenu: "ì†Œë¼ë§ˆì¹˜ ë‚´ ë‹¤ì–‘í•œ ë ˆìŠ¤í† ë‘", avgCostPerPerson: "ì‹ì‚¬ ì•½ Â¥3,000~ / â‚©27,000ì›~", tip: "ìŠ¤ì¹´ì´íŠ¸ë¦¬ ì „ë§ëŒ€ëŠ” ì˜¨ë¼ì¸ ì‚¬ì „ ì˜ˆë§¤ ê°•ë ¥ ì¶”ì²œ." },
                                { name: { kor: "Bì½”ìŠ¤: í˜¸í”¼ë„ë¦¬", jpn: "ãƒ›ãƒƒãƒ”ãƒ¼é€šã‚Š", eng: "Hoppy Dori" }, description: "ì„¼ì†Œì§€ ì„œìª½ì— ìœ„ì¹˜í•œ í™œê¸°ì°¬ ì„ ìˆ ì§‘ ê±°ë¦¬", signatureMenu: "ì†Œ í˜ì¤„ ì¡°ë¦¼(ê·œìŠ¤ì§€ë‹ˆì½”ë¯¸)", menuDescription: "ì†Œ í˜ì¤„ì„ ë¶€ë“œëŸ½ê²Œ ë“ì—¬ë‚¸ ì¼ë³¸ì‹ ì•ˆì£¼", avgCostPerPerson: "ì•½ Â¥3,000 / â‚©27,000 (ì•ˆì£¼ 2ê°œ + ì£¼ë¥˜)", tip: "ì €ë… ì‹œê°„ì—” ë§¤ìš° ë¶ë¹„ì§€ë§Œ ë¹ˆìë¦¬ë¥¼ ì°¾ì•„ ë“¤ì–´ê°€ëŠ” ì¬ë¯¸ê°€ ìˆìŒ." },
                                { name: { kor: "Cì½”ìŠ¤: ëª¬ìì•¼í‚¤", jpn: "ã‚‚ã‚“ã˜ã‚ƒ ã‚‚ã¸ã˜", eng: "Monja Moheji" }, description: "ì•„ì‚¬ì¿ ì‚¬ ë‚´ì— ìœ„ì¹˜í•œ ë„ì¿„ ëª…ë¬¼ ëª¬ìì•¼í‚¤ ì „ë¬¸ì ", signatureMenu: "ëª…ë€ ëª¬ìì•¼í‚¤", menuDescription: "ë¬½ì€ ë°˜ì£½ì— ì¬ë£Œë¥¼ ì„ì–´ ì² íŒì— ì§€ì ¸ ë¨¹ëŠ” ìŒì‹", avgCostPerPerson: "ì•½ Â¥2,500 / â‚©22,500 (ëª¬ìì•¼í‚¤ + ìŒë£Œ)", tip: "ì§ì›ì´ ì§ì ‘ ë§Œë“¤ì–´ì£¼ëŠ” ê²½ìš°ê°€ ë§ì•„ í¸ë¦¬í•¨." },
                            ]},
                             { name: "ì €ë… ì‚°ì±… ì½”ìŠ¤", icon: "ğŸš¶â€â™‚ï¸", content: [{ detail: "<b>Aì½”ìŠ¤ ì„ íƒ ì‹œ:</b> ìŠ¤ì¹´ì´íŠ¸ë¦¬ ì•„ë˜ ì†Œë¼ë§ˆì¹˜ ì£¼ë³€ ì‚°ì±…<br><b>Bì½”ìŠ¤ ì„ íƒ ì‹œ:</b> ì¡°ëª…ì´ ì¼œì§„ ì„¼ì†Œì§€ ê²½ë‚´ë¥¼ ë‘˜ëŸ¬ë³¸ í›„ í˜¸í”¼ë„ë¦¬ë¡œ ì´ë™<br><b>Cì½”ìŠ¤ ì„ íƒ ì‹œ:</b> ìŠ¤ë¯¸ë‹¤ ê°•ë³€ì„ ë”°ë¼ ê±¸ìœ¼ë©° ë¼ì´íŠ¸ì—…ëœ ì•„ì‚¬íˆ ë§¥ì£¼ ë¹Œë”©ê³¼ ìŠ¤ì¹´ì´íŠ¸ë¦¬ ì•¼ê²½ ê°ìƒ" }] },
                        ]
                    }
                ]
            },
            2: {
                title: "ì•„í‚¤í•˜ë°”ë¼ & ê°„ë‹¤ íƒë°©",
                theme: "ì„œë¸Œì»¬ì²˜ ì„±ì§€ ìˆœë¡€ì™€ ì „í†µ ì‹ ì‚¬ ë°©ë¬¸",
                route_highlight: "ì•„ì‚¬ì¿ ì‚¬ì—ì„œ ì•„í‚¤í•˜ë°”ë¼ë¡œ ì´ë™ í›„, í•˜ë£¨ ì¢…ì¼ ì•„í‚¤í•˜ë°”ë¼ì™€ ì¸ì ‘í•œ ê°„ë‹¤ ì§€ì—­ì— ì§‘ì¤‘í•˜ëŠ” ë™ì„ ì…ë‹ˆë‹¤. ì£¼ìš” ì‡¼í•‘ëª°ê³¼ ëª…ì†Œê°€ ëª¨ë‘ ë„ë³´ ê±°ë¦¬ì— ìˆìŠµë‹ˆë‹¤.",
                checklist: [
                    { text: "ê°„ë‹¤ ë¬˜ì§„ 'IT ë¶€ì ' êµ¬ê²½í•˜ê¸°", done: false },
                    { text: "Yodobashi-Akibaì—ì„œ ì „ìì œí’ˆ ì‡¼í•‘", done: false },
                    { text: "ë¼ë””ì˜¤íšŒê´€ì—ì„œ í”¼ê·œì–´ êµ¬ê²½", done: false },
                    { text: "ì• ë‹ˆë©”ì´íŠ¸ ë°©ë¬¸í•˜ê¸°", done: false }
                ],
                sections: [
                    {
                        time: "ì˜¤ì „",
                        title: "ì•„í‚¤í•˜ë°”ë¼ ì´ë™ ë° ì˜¤ì „ ì½”ìŠ¤",
                        items: [
                            { name: "í˜¸í…” ì´ë™ ë° ì§ ë³´ê´€", icon: "ğŸ›„", content: [{ detail: "ì•„ì‚¬ì¿ ì‚¬ ì²´í¬ì•„ì›ƒ â†’ ê¸´ìì„ ìœ¼ë¡œ 'ìŠ¤ì—íˆë¡œì´ˆì—­' ì´ë™ â†’ Nohga Hotel Akihabara Tokyoì— ì§ ë§¡ê¸°ê¸°" }] },
                            { name: "ì•„ì¹¨ ì‹ì‚¬ (ì„ íƒ)", icon: "â˜•", content: [
                                { name: { kor: "í ë¦¬ì¹¸ ì¹´í˜", jpn: "ãƒšãƒªã‚«ãƒ³ã‚«ãƒ•ã‚§", eng: "Pelican Cafe" }, description: "80ë…„ ì „í†µ ì‹ë¹µìœ¼ë¡œ ë§Œë“  í† ìŠ¤íŠ¸", signatureMenu: "ìˆ¯ë¶ˆ í† ìŠ¤íŠ¸", menuDescription: "ìˆ¯ë¶ˆì— êµ¬ì›Œ ê²‰ë°”ì†ì´‰ ì‹ê°ì´ íŠ¹ì§•ì¸ í† ìŠ¤íŠ¸", avgCostPerPerson: "ì•½ Â¥1,300 / â‚©11,700 (í† ìŠ¤íŠ¸ + ì»¤í”¼)", tip: "ì•„ì‚¬ì¿ ì‚¬ ì¶œë°œ ì „ ë°©ë¬¸. ì˜¤í”ˆ ì‹œê°„ì—ë„ ì¤„ì´ ìˆì„ ì •ë„ë¡œ ì¸ê¸°." },
                                { name: { kor: "ë¸”ë£¨ ë³´í‹€ ì»¤í”¼", jpn: "ãƒ–ãƒ«ãƒ¼ãƒœãƒˆãƒ«ã‚³ãƒ¼ãƒ’ãƒ¼ ç¥ç”°ä¸‡ä¸–æ©‹", eng: "Blue Bottle Coffee Kanda" }, description: "ë¶‰ì€ ë²½ëŒ ì•„ì¹˜ê°€ ë©‹ì§„ ê°ì„± ì¹´í˜", signatureMenu: "ë“œë¦½ ì»¤í”¼, ì™€í”Œ", avgCostPerPerson: "ì•½ Â¥1,300 / â‚©11,700 (ì»¤í”¼ + ë””ì €íŠ¸)", tip: "ì•„í‚¤í•˜ë°”ë¼ ë„ì°© í›„ ë°©ë¬¸. ë¶„ìœ„ê¸°ë¥¼ ì¦ê¸°ê¸° ì¢‹ì€ ê³³." },
                                { name: { kor: "ìŠ¤í‚¤ì•¼/ìš”ì‹œë…¸ì•¼", jpn: "ã™ãå®¶/å‰é‡å®¶", eng: "Sukiya/Yoshinoya" }, description: "ì´ˆê³ ì† ê°€ì„±ë¹„ ì•„ì¹¨ ì •ì‹", signatureMenu: "ê·œë™, ìƒì„ êµ¬ì´ ì •ì‹", avgCostPerPerson: "ì•½ Â¥700 / â‚©6,300 (ì•„ì¹¨ ì •ì‹ ê¸°ì¤€)", tip: "ì›¨ì´íŒ… ì—†ì´ ë°”ë¡œ ì‹ì‚¬ ê°€ëŠ¥." },
                            ]},
                            { name: { kor: "ê°„ë‹¤ ë¬˜ì§„", jpn: "ç¥ç”°æ˜ç¥", eng: "Kanda Myojin Shrine" }, icon: "â›©ï¸", content: [{ detail: "ì•„í‚¤í•˜ë°”ë¼ íƒë°© ì „, ë¨¼ì € ì‹ ì‚¬ì— ë“¤ëŸ¬ IT ê¸°ê¸°ë¥¼ ì§€ì¼œì¤€ë‹¤ëŠ” ë…íŠ¹í•œ 'IT ë¶€ì 'ê³¼ ì• ë‹ˆë©”ì´ì…˜ ì½œë¼ë³´ ì—ë§ˆë¥¼ êµ¬ê²½í•©ë‹ˆë‹¤." }] },
                            { name: "ì˜¤ì „ ì‚°ì±… ì½”ìŠ¤", icon: "ğŸš¶â€â™‚ï¸", content: [{ detail: "í˜¸í…”ì—ì„œ ê°„ë‹¤ ë¬˜ì§„ê¹Œì§€ ê±¸ìœ¼ë©° ì£¼ë³€ì˜ ì‘ì€ ìƒì ê³¼ ì˜¤í”¼ìŠ¤ ê±°ë¦¬ í’ê²½ êµ¬ê²½í•˜ê¸°" }] },
                        ]
                    },
                    {
                        time: "ì ì‹¬ ì‹ì‚¬ í›„ ì˜¤í›„",
                        title: "ì•„í‚¤í•˜ë°”ë¼ ì˜¤í›„ ì½”ìŠ¤: ì‡¼í•‘ ì§‘ì¤‘",
                        items: [
                            { name: "ì ì‹¬ ì‹ì‚¬ (ì„ íƒ)", icon: "ğŸ›", content: [
                                { name: { kor: "ê·œì¹´ì¸  ì´ì¹˜ë‹ˆì‚°", jpn: "ç‰›ã‚«ãƒ„å£±å¼å‚", eng: "Gyukatsu Ichi Ni San" }, description: "ê°œì¸ í™”ë¡œì— ì§ì ‘ êµ¬ì›Œ ë¨¹ëŠ” ê·œì¹´ì¸ ", signatureMenu: "ê·œì¹´ì¸  ì •ì‹", menuDescription: "ê²‰ë§Œ ì‚´ì§ íŠ€ê¸´ ì†Œê³ ê¸°ë¥¼ ëŒíŒì— êµ¬ì›Œë¨¹ëŠ” ì»¤í‹€ë¦¿", avgCostPerPerson: "ì•½ Â¥1,800 / â‚©16,200 (ê¸°ë³¸ ì •ì‹ ê¸°ì¤€)", tip: "ì‹ì‚¬ ì‹œê°„ì—” í•­ìƒ ê¸´ ì¤„. ì˜¤í”ˆ ì§í›„ë‚˜ ëŠ¦ì€ ì˜¤í›„ ë°©ë¬¸ ì¶”ì²œ." },
                                { name: { kor: "íìŠˆ ì¥ê°€ë¼ ë¼ë©˜", jpn: "ä¹å·ã˜ã‚ƒã‚“ãŒã‚‰ã‚‰ã‚ã‚ã‚“", eng: "Kyushu Jangara Ramen" }, description: "ì§„í•œ ëˆì½”ì¸  ë¼ë©˜ ì „ë¬¸ì ", signatureMenu: "ëˆì½”ì¸  ë¼ë©˜", menuDescription: "ë¼ì§€ë¼ˆë¥¼ ìš°ë ¤ë‚¸ ë½€ì–€ êµ­ë¬¼ì˜ ë¼ë©˜", avgCostPerPerson: "ì•½ Â¥1,200 / â‚©10,800 (ê¸°ë³¸ ë¼ë©˜ + í† í•‘)", tip: "í† í•‘ì„ ììœ ë¡­ê²Œ ì¶”ê°€ ê°€ëŠ¥. ì¤„ì€ ë¹¨ë¦¬ ì¤„ì–´ë“œëŠ” í¸." },
                                { name: { kor: "ê³ ê³ ì¹´ë ˆ", jpn: "ã‚´ãƒ¼ã‚´ãƒ¼ã‚«ãƒ¬ãƒ¼", eng: "Go! Go! Curry!" }, description: "ë³¼ë¥¨ ë§Œì ì˜ ì§„í•œ ì¹´ë ˆë¼ì´ìŠ¤", signatureMenu: "ë¡œìŠ¤ì¹´ì¸  ì¹´ë ˆ", menuDescription: "ëˆì¹´ì¸ ë¥¼ ì˜¬ë¦° ì§„í•œ ì¼ë³¸ì‹ ì¹´ë ˆ", avgCostPerPerson: "ì•½ Â¥1,100 / â‚©9,900 (ê¸°ë³¸ ì¹´ë ˆ ê¸°ì¤€)", tip: "ê³ ë¦´ë¼ ê°„íŒì´ ì¸ìƒì . ì›¨ì´íŒ… ê±°ì˜ ì—†ìŒ." },
                            ]},
                            { name: "ì˜¤í›„ ì‹¤ë‚´ ì‚°ì±… (í”¼ì„œ)", icon: "ğŸš¶â€â™‚ï¸", type: "heat-tip", content: [{ detail: "<b>ì¶”ì²œ ë™ì„ :</b> ìš”ë„ë°”ì‹œ ì•„í‚¤ë°” (ãƒ¨ãƒ‰ãƒã‚·Akiba) â†’ ë¼ë””ì˜¤íšŒê´€ (ãƒ©ã‚¸ã‚ªä¼šé¤¨) â†’ ì• ë‹ˆë©”ì´íŠ¸ (ã‚¢ãƒ‹ãƒ¡ã‚¤ãƒˆ) ìˆœìœ¼ë¡œ ëŒ€í˜• ê±´ë¬¼ì„ ì˜®ê²¨ ë‹¤ë‹ˆë©° ì‡¼í•‘<br><b>ì§€ì ì¸ í”¼ì„œ:</b> ì•„í‚¤í•˜ë°”ë¼ì—ì„œ ê°€ê¹Œìš´ ì§„ë³´ì´ˆ (ç¥ä¿ç”º) í—Œì±…ë°© ê±°ë¦¬ê¹Œì§€ ê±¸ì–´ê°€ë©° íƒë°©" }] },
                        ]
                    },
                    {
                        time: "ì €ë…",
                        title: "ì•„í‚¤í•˜ë°”ë¼ì˜ ë°¤",
                        items: [
                            { name: "í˜¸í…” ì²´í¬ì¸", icon: "ğŸ¨", content: [{ detail: "í˜¸í…” ì²´í¬ì¸ í›„ íœ´ì‹" }] },
                            { name: "ì €ë… ì‹ì‚¬ (ì„ íƒ)", icon: "ğŸ®", content: [
                                { name: { kor: "í†¤ì¹´ì¸  ì•„ì˜¤í‚¤", jpn: "ã¨ã‚“ã‹ã¤æª", eng: "Tonkatsu Aoki" }, description: "ê³ ê¸‰ ë¼ì§€ê³ ê¸°ë¥¼ ì‚¬ìš©í•œ ê°€ì„±ë¹„ ëˆì¹´ì¸ ", signatureMenu: "ë¡œìŠ¤ì¹´ì¸  ì •ì‹", menuDescription: "ë‘íˆ¼í•œ ë“±ì‹¬ ëˆì¹´ì¸  ì •ì‹", avgCostPerPerson: "ì•½ Â¥2,500 / â‚©22,500 (ë¡œìŠ¤ì¹´ì¸  ì •ì‹ ê¸°ì¤€)", tip: "ì†Œê¸ˆì— ì°ì–´ ë¨¹ëŠ” ê²ƒì„ ì¶”ì²œ. ì €ë… ì‹œê°„ ì›¨ì´íŒ… ê°€ëŠ¥ì„±." },
                                { name: { kor: "ë‚˜ì¹´ìš°", jpn: "ãªã‹å¯", eng: "Nakau" }, description: "ì´‰ì´‰í•œ ì˜¤ì•¼ì½”ë™ì´ ë§›ìˆëŠ” ê·œë™ ì²´ì¸", signatureMenu: "ì˜¤ì•¼ì½”ë™", menuDescription: "ë‹­ê³ ê¸° ê³„ë€ ë®ë°¥", avgCostPerPerson: "ì•½ Â¥800 / â‚©7,200 (ì˜¤ì•¼ì½”ë™ 1ê°œ ê¸°ì¤€)", tip: "ì›¨ì´íŒ… ì—†ì´ ë°”ë¡œ ì‹ì‚¬ ê°€ëŠ¥." },
                                { name: { kor: "ì´ì„¸ê²", jpn: "ã„ã›æº", eng: "Isegen" }, description: "ë¬¸í™”ì¬ ê±´ë¬¼ì—ì„œ ì¦ê¸°ëŠ” ì•„ê·€ ì „ê³¨", signatureMenu: "ì•„ê·€ ì „ê³¨ ì½”ìŠ¤", menuDescription: "ì•„ê·€ì™€ ì±„ì†Œë¥¼ ë“ì—¬ ë¨¹ëŠ” ì „ê³¨ ìš”ë¦¬", avgCostPerPerson: "ì €ë… ì•½ Â¥11,000 / â‚©99,000 (ì½”ìŠ¤ ê¸°ì¤€)", tip: "ê°„ë‹¤ì—­ ê·¼ì²˜. ë„ì¿„ ìœ ì¼ì˜ ì•„ê·€ ìš”ë¦¬ ì „ë¬¸ì . ì˜ˆì•½ í•„ìˆ˜." },
                            ]},
                            { name: "ì €ë… ì‚°ì±… ì½”ìŠ¤", icon: "ğŸš¶â€â™‚ï¸", content: [{ detail: "ë„¤ì˜¨ì‚¬ì¸ì´ í™”ë ¤í•œ ì•„í‚¤í•˜ë°”ë¼ì˜ ë°¤ê±°ë¦¬ë¥¼ ì‚°ì±…í•˜ê±°ë‚˜, ì¡°ê¸ˆ ì¡°ìš©í•œ ë¶„ìœ„ê¸°ë¥¼ ì›í•œë‹¤ë©´ í˜¸í…” ì£¼ë³€ì˜ ê°„ë‹¤ ê°•ë³€ì„ ë”°ë¼ ê±·ê¸°" }] },
                        ]
                    }
                ]
            },
            3: {
                title: "ê¸´ì â†’ ë„ì¿„ì—­ â†’ ë§ˆë£¨ë…¸ìš°ì¹˜",
                theme: "ì„¸ë ¨ëœ ì‡¼í•‘ê³¼ ìºë¦­í„°, ê·¸ë¦¬ê³  í™”ë ¤í•œ ì•¼ê²½",
                route_highlight: "ê¸´ì/ìœ ë¼ì¿ ì´ˆ ì§€ì—­ì—ì„œ ì‡¼í•‘ê³¼ ì ì‹¬ì„ ì¦ê¸´ í›„, ë„ë³´ë‚˜ ì§€í•˜ì² ë¡œ ê°€ê¹Œìš´ ë„ì¿„ì—­ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤. ì €ë…ì—ëŠ” ë„ì¿„ì—­ ì£¼ë³€ ë˜ëŠ” ì¹˜ìš”ë‹¤êµ¬ì²­ì—ì„œ ì•¼ê²½ì„ ê°ìƒí•˜ëŠ” ì½”ìŠ¤ì…ë‹ˆë‹¤.",
                checklist: [
                    { text: "ë¬´ì¸ì–‘í’ˆ ê¸´ìì  ì‡¼í•‘í•˜ê¸°", done: false },
                    { text: "ì¹˜ì´ì¹´ì™€ ëœë“œ ë°©ë¬¸í•˜ê¸°", done: false },
                    { text: "KITTE ì˜¥ìƒì •ì›ì—ì„œ ë„ì¿„ì—­ ë³´ê¸°", done: false },
                    { text: "ì¹˜ìš”ë‹¤êµ¬ì²­ ë¬´ë£Œ ì•¼ê²½ ê°ìƒí•˜ê¸°", done: false }
                ],
                sections: [
                    {
                        time: "ì˜¤ì „",
                        title: "ê¸´ì ì½”ìŠ¤: í”Œë˜ê·¸ì‹­ ìŠ¤í† ì–´ íƒë°©",
                        items: [
                            { name: { kor: "ë¬´ì¸ì–‘í’ˆ ê¸´ìì ", jpn: "ç„¡å°è‰¯å“ éŠ€åº§", eng: "MUJI Ginza" }, icon: "ğŸ›ï¸", content: [{ detail: "JR ìœ ë¼ì¿ ì´ˆì—­ì—ì„œ í•˜ì°¨. ì„¸ê³„ ìµœëŒ€ ê·œëª¨ì˜ ë¬´ì¸ì–‘í’ˆì—ì„œ ì‡¼í•‘ê³¼ ë¸ŒëŸ°ì¹˜ë¥¼ ì¦ê¹ë‹ˆë‹¤." }] },
                            { name: "ì˜¤ì „ ì‚°ì±… ì½”ìŠ¤ (ê¸´ì)", icon: "ğŸš¶â€â™‚ï¸", content: [{ detail: "ë¬´ì¸ì–‘í’ˆ ì‡¼í•‘ í›„, ê¸´ìì˜ ì¤‘ì‹¬ ê±°ë¦¬ì¸ ì£¼ì˜¤ë„ë¦¬(ä¸­å¤®é€šã‚Š)ë¥¼ ë”°ë¼ ì•„ì´ì‡¼í•‘í•˜ë©° ê±·ê¸°. ì£¼ë§ì—ëŠ” 'ë³´í–‰ì ì²œêµ­'ìœ¼ë¡œ ìš´ì˜ë˜ì–´ ì°¨ ì—†ëŠ” ê±°ë¦¬ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤." }] },
                            { name: "ì ì‹¬ ì‹ì‚¬ (ê¸´ì/ë‹ˆí˜¼ë°”ì‹œ)", icon: "ğŸœ", content: [
                                { name: { kor: "ê¸´ì ì¹´ê°€ë¦¬", jpn: "éŠ€åº§ ç¯", eng: "Ginza Kagari" }, description: "ë¯¸ìŠë­ ê°€ì´ë“œì— ì˜¤ë¥¸ ë‹­ë°±íƒ• ë¼ë©˜", signatureMenu: "í† ë¦¬íŒŒì´íƒ„ ì†Œë°”", menuDescription: "ë½€ì–—ê³  ì§„í•œ ë‹­ ìœ¡ìˆ˜ ë¼ë©˜", avgCostPerPerson: "ì•½ Â¥1,600 / â‚©14,400 (ë¼ë©˜ 1ê°œ ê¸°ì¤€)", tip: "ì˜ˆì•½ ë¶ˆê°€, 1~2ì‹œê°„ ì›¨ì´íŒ… ê°ì˜¤. í¬ë¦¼ìˆ˜í”„ ê°™ì€ ì§„í•œ êµ­ë¬¼." },
                                { name: { kor: "ê¸´ì ìŠ¤ìœ„ìŠ¤", jpn: "éŠ€åº§ã‚¹ã‚¤ã‚¹", eng: "Ginza Swiss" }, description: "'ì¹´ì¸ ì¹´ë ˆ'ë¥¼ ì²˜ìŒ ë§Œë“  ì›ì¡° ê°€ê²Œ", signatureMenu: "ì›ì¡° ì¹´ì¸ ì¹´ë ˆ", menuDescription: "ì¹´ë ˆë¼ì´ìŠ¤ ìœ„ì— ëˆì¹´ì¸ ë¥¼ ì˜¬ë¦° ìš”ë¦¬", avgCostPerPerson: "ì•½ Â¥1,900 / â‚©17,100 (ì¹´ì¸ ì¹´ë ˆ 1ê°œ ê¸°ì¤€)", tip: "í´ë˜ì‹í•œ ê²½ì–‘ì‹ì§‘ ë¶„ìœ„ê¸°." },
                                { name: { kor: "íƒ€ì´ë©”ì´ì¼„", jpn: "ãŸã„ã‚ã„ã‘ã‚“", eng: "Taimeiken" }, description: "80ë…„ ì „í†µì˜ ìœ ëª… ì˜¤ë¯€ë¼ì´ìŠ¤ ë§›ì§‘", signatureMenu: "íƒ„í¬í¬ ì˜¤ë¯€ë¼ì´ìŠ¤", menuDescription: "ì¹¼ë¡œ ê°€ë¥´ë©´ í¼ì³ì§€ëŠ” ë°˜ìˆ™ ì˜¤ë¯ˆë ›ì´ íŠ¹ì§•", avgCostPerPerson: "ì•½ Â¥2,800 / â‚©25,200 (ì˜¤ë¯€ë¼ì´ìŠ¤ 1ê°œ ê¸°ì¤€)", tip: "ë‹ˆí˜¼ë°”ì‹œì— ìœ„ì¹˜. ì ì‹¬ì‹œê°„ ì¤„ì´ ê¹€." },
                            ]},
                        ]
                    },
                    {
                        time: "ì˜¤í›„",
                        title: "ë„ì¿„ì—­ ì½”ìŠ¤: ìºë¦­í„° ì‡¼í•‘ & ì‚°ì±…",
                        items: [
                            { name: { kor: "ì¹˜ì´ì¹´ì™€ ëœë“œ", jpn: "ã¡ã„ã‹ã‚ã‚‰ã‚“ã©", eng: "Chiikawa Land" }, icon: "ğŸ’–", content: [{ detail: "ê¸´ìì—ì„œ ë„ì¿„ì—­ìœ¼ë¡œ ì´ë™. 'ë„ì¿„ ìºë¦­í„° ìŠ¤íŠ¸ë¦¬íŠ¸' ë°©ë¬¸. ë°©ë¬¸ ì „ ê³µì‹ SNSì—ì„œ ì •ë¦¬ê¶Œ(ë²ˆí˜¸í‘œ) ë°°ë¶€ ì—¬ë¶€ í™•ì¸ í•„ìˆ˜!" }] },
                            { name: "ì˜¤í›„ ì‚°ì±… ì½”ìŠ¤ (ë„ì¿„ì—­)", icon: "ğŸš¶â€â™‚ï¸", type: "heat-tip", content: [{ detail: "<b>ì‚°ì±…:</b> ë„ì¿„ì—­ ë§ˆë£¨ë…¸ìš°ì¹˜ ê´‘ì¥ì—ì„œ ê³ í’ìŠ¤ëŸ¬ìš´ ì—­ì‚¬ë¥¼ ê°ìƒí•˜ê³ , í™©ê¶ìœ¼ë¡œ ì´ì–´ì§€ëŠ” ë„“ì€ êµì½”ë„ë¦¬(è¡Œå¹¸é€šã‚Š) ì‚°ì±…<br><b>ì‹¤ë‚´ í”¼ì„œ:</b> KITTE (ã‚­ãƒƒãƒ†) ì˜¥ìƒì •ì›, ë§ˆë£¨ë…¸ìš°ì¹˜ ë¹Œë”©, ì‹ ë§ˆë£¨ë…¸ìš°ì¹˜ ë¹Œë”© ë“±ì—ì„œ ì‡¼í•‘ ë° íœ´ì‹<br><b>ì§€í•˜ ì‡¼í•‘:</b> ë„ì¿„ì—­ê³¼ ì—°ê²°ëœ ì•¼ì—ìŠ¤ ì§€í•˜ìƒê°€ (å…«é‡æ´²åœ°ä¸‹è¡—) íƒë°©" }] },
                        ]
                    },
                    {
                        time: "ì €ë…",
                        title: "ì•¼ê²½ & ì €ë… ì‹ì‚¬",
                        items: [
                            { name: { kor: "ì¹˜ìš”ë‹¤êµ¬ì²­ ë¬´ë£Œ ì•¼ê²½", jpn: "åƒä»£ç”°åŒºå½¹æ‰€", eng: "Chiyoda City Office" }, icon: "ğŸŒƒ", content: [{ detail: "ë„ì¿„ì—­ì—ì„œ ì§€í•˜ì² ë¡œ ì´ë™. 10ì¸µ ì „ë§ íœ´ê²Œì‹¤ì—ì„œ ê³ ì¿„ì™€ ë§ˆë£¨ë…¸ìš°ì¹˜ ë¹Œë”© ìˆ²ì˜ ì°¨ë¶„í•˜ê³  ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ì•¼ê²½ì„ ë¬´ë£Œë¡œ ê°ìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." }] },
                            { name: "ì €ë… ì‹ì‚¬ (ë„ì¿„ì—­/ìœ ë¼ì¿ ì´ˆ)", icon: "ğŸ·", content: [
                                { name: { kor: "ì˜¤ë ˆë…¸ ì´íƒˆë¦¬ì•ˆ", jpn: "ä¿ºã®ã‚¤ã‚¿ãƒªã‚¢ãƒ³", eng: "Ore no Italian" }, description: "ê³ ê¸‰ ìš”ë¦¬ë¥¼ ì €ë ´í•˜ê²Œ ì¦ê¸°ëŠ” ì¸ê¸° ë ˆìŠ¤í† ë‘", signatureMenu: "íŒŒìŠ¤íƒ€, í”¼ì", avgCostPerPerson: "ì•½ Â¥4,000 / â‚©36,000 (ìš”ë¦¬ 2ê°œ + ì£¼ë¥˜)", tip: "ì„œì„œ ë¨¹ëŠ” ì»¨ì…‰. ì˜ˆì•½í•˜ê±°ë‚˜ ì¼ì° ë°©ë¬¸ ì¶”ì²œ." },
                                { name: { kor: "ìœ ë¼ì¿ ì´ˆ ê°€ë„ ì‹œíƒ€", jpn: "æœ‰æ¥½ç”ºã‚¬ãƒ¼ãƒ‰ä¸‹", eng: "Yurakucho Gado-shita" }, description: "í‡´ê·¼ê¸¸ ì§ì¥ì¸ë“¤ì˜ ì° í˜„ì§€ ë§›ì§‘ ê±°ë¦¬", signatureMenu: "ì•¼í‚¤í† ë¦¬(ë‹­ê¼¬ì¹˜)", menuDescription: "ë‹­ê³ ê¸° ìˆ¯ë¶ˆ ê¼¬ì¹˜êµ¬ì´", avgCostPerPerson: "ì•½ Â¥3,000 / â‚©27,000 (ê¼¬ì¹˜ + ë§¥ì£¼)", tip: "ì—°ê¸° ììš±í•œ ì¢ì€ ê°€ê²Œì—ì„œ ì¦ê¸°ëŠ” ì¼ë³¸ ê°ì„±." },
                                { name: { kor: "ë²„ë“œëœë“œ ê¸´ì", jpn: "ãƒãƒ¼ãƒ‰ãƒ©ãƒ³ãƒ‰ éŠ€åº§", eng: "Bird Land Ginza" }, description: "ë¯¸ìŠë­ ìŠ¤íƒ€ ì•¼í‚¤í† ë¦¬ ì „ë¬¸ì ", signatureMenu: "ì˜¤ë§ˆì¹´ì„¸ ì½”ìŠ¤", menuDescription: "ì£¼ë°©ì¥ì´ ì—„ì„ í•œ ë‹­ê¼¬ì¹˜ ì½”ìŠ¤ ìš”ë¦¬", avgCostPerPerson: "ì €ë… ì•½ Â¥13,000 / â‚©117,000 (ì½”ìŠ¤ ê¸°ì¤€)", tip: "ìµœì†Œ ëª‡ ì£¼ ì „ ì˜ˆì•½ í•„ìˆ˜." },
                            ]},
                            { name: "ì €ë… ì‚°ì±… ì½”ìŠ¤ (ì•¼ê²½)", icon: "ğŸš¶â€â™‚ï¸", content: [{ detail: "ì €ë… ì‹ì‚¬ í›„, ì¼ë£¨ë¯¸ë„¤ì´ì…˜ì´ ì•„ë¦„ë‹¤ìš´ ë§ˆë£¨ë…¸ìš°ì¹˜ ë‚˜ì¹´ë„ë¦¬(ä¸¸ã®å†…ä»²é€šã‚Š)ë¥¼ ê±·ê±°ë‚˜, ë„ì¿„ì—­ ì•¼ê²½ì„ ê°ìƒí•˜ë©° ì‚°ì±…í•˜ê¸°" }] },
                        ]
                    }
                ]
            },
            4: {
                title: "ìš°ì—ë…¸ & ì•¼ë‚˜ì¹´ ì‚°ì±… í›„ ê³µí•­ìœ¼ë¡œ",
                theme: "í™œê¸°ì°¬ ì‹œì¥ê³¼ ì •ê²¨ìš´ ê³¨ëª©, ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ ë§Œì°¬",
                route_highlight: "ì•„í‚¤í•˜ë°”ë¼ì—ì„œ ê°€ê¹Œìš´ ìš°ì—ë…¸ë¡œ ì´ë™í•˜ì—¬ ì‹œì¥ê³¼ ê³µì›ì„ ë‘˜ëŸ¬ë³¸ í›„, ë„ë³´ë¡œ ì•¼ë‚˜ì¹´ ê¸´ìê¹Œì§€ ì‚°ì±…í•˜ëŠ” ì—¬ìœ ë¡œìš´ ë™ì„ ì…ë‹ˆë‹¤. í•˜ë„¤ë‹¤ ê³µí•­ ì´ë™ì„ ê³ ë ¤í•´ ì¼ì •ì„ ë§ˆë¬´ë¦¬í•©ë‹ˆë‹¤.",
                checklist: [
                    { text: "ì•„ë©”ìš”ì½” ì‹œì¥ì—ì„œ ì‡¼í•‘í•˜ê¸°", done: false },
                    { text: "ì•¼ë‚˜ì¹´ ê¸´ìì—ì„œ ë©˜ì¹˜ì¹´ì¸  ë¨¹ê¸°", done: false },
                    { text: "ìš°ì—ë…¸ ê³µì› ë¯¸ìˆ ê´€/ë°•ë¬¼ê´€ ë°©ë¬¸", done: false },
                    { text: "ê³µí•­ ë©´ì„¸ì ì—ì„œ ì„ ë¬¼ êµ¬ë§¤í•˜ê¸°", done: false }
                ],
                sections: [
                    {
                        time: "ì˜¤ì „",
                        title: "ìš°ì—ë…¸ & ì•¼ë‚˜ì¹´ ì˜¤ì „ ì½”ìŠ¤",
                        items: [
                            { name: "í˜¸í…” ì²´í¬ì•„ì›ƒ ë° ì´ë™", icon: "ğŸ›„", content: [{ detail: "í˜¸í…” ì²´í¬ì•„ì›ƒ í›„ ì§ ë§¡ê¸°ê³  ìš°ì—ë…¸ë¡œ ì´ë™" }] },
                            { name: "ì˜¤ì „ í™œë™ (ì„ íƒ)", icon: "ğŸ›’", content: [{ detail: "<b>A. ì•„í‚¤í•˜ë°”ë¼ ë§ˆë¬´ë¦¬:</b> ëª» ì‚° ë¬¼ê±´ ì‡¼í•‘<br><b>B. ìš°ì—ë…¸ ì‹œì¥ êµ¬ê²½:</b> ì•„ë©”ìš”ì½” ì‹œì¥ (ã‚¢ãƒ¡æ¨ª / Ameya Yokocho)ì—ì„œ ë“œëŸ­ìŠ¤í† ì–´ ë“± ì‡¼í•‘<br><b>C. ì•¼ë‚˜ì¹´ ê¸´ì ì‚°ì±…:</b> 'ê³ ì–‘ì´ ë§ˆì„' ì•¼ë‚˜ì¹´ ê¸´ì (è°·ä¸­éŠ€åº§ / Yanaka Ginza)ì—ì„œ ê¸¸ê±°ë¦¬ ìŒì‹ ì¦ê¸°ê¸°" }] },
                            { name: "ì˜¤ì „ ì‚°ì±… ì½”ìŠ¤ (ìš°ì—ë…¸/ì•¼ë‚˜ì¹´)", icon: "ğŸš¶â€â™‚ï¸", type: "heat-tip", content: [{ detail: "<b>ì‹œì¥ ì‚°ì±…:</b> í™œê¸° ë„˜ì¹˜ëŠ” ì•„ë©”ìš”ì½” ì‹œì¥ (ã‚¢ãƒ¡æ¨ª) êµ¬ê²½<br><b>ê³µì› ì‚°ì±…:</b> ìš°ì—ë…¸ ê³µì› (ä¸Šé‡å…¬åœ’)ì˜ ë…¹ìŒì„ ì¦ê¸°ë©° ì‹œë…¸ë°”ì¦ˆ ì—°ëª» ì£¼ë³€ ê±·ê¸°<br><b>ê³¨ëª© ì‚°ì±…:</b> ìš°ì—ë…¸ ê³µì›ì„ ê°€ë¡œì§ˆëŸ¬ ì •ê²¨ìš´ ì•¼ë‚˜ì¹´ ê¸´ì (è°·ä¸­éŠ€åº§) ê³¨ëª©ê¹Œì§€ ê±·ê¸°" }] },
                        ]
                    },
                    {
                        time: "ì ì‹¬ ì‹ì‚¬",
                        title: "ìš°ì—ë…¸ì—ì„œì˜ ë§ˆì§€ë§‰ ë§Œì°¬",
                        items: [
                            { name: "ì ì‹¬ ì‹ì‚¬ ì¶”ì²œ", icon: "ğŸ£", content: [
                                { name: { kor: "ì•¼ë§ˆë²  ì˜¤ì¹´ì¹˜ë§ˆì¹˜ì ", jpn: "ã¨ã‚“ã‹ã¤å±±å®¶ å¾¡å¾’ç”ºåº—", eng: "Tonkatsu Yamabe" }, description: "1000ì—” ì´í•˜ ìµœê³ ì˜ ê°€ì„±ë¹„ ëˆì¹´ì¸ ", signatureMenu: "ë¡œìŠ¤ì¹´ì¸  ì •ì‹", menuDescription: "ë‘íˆ¼í•œ ë“±ì‹¬ ëˆì¹´ì¸ ì™€ ë°¥, êµ­ì´ ë‚˜ì˜¤ëŠ” ì •ì‹", avgCostPerPerson: "ì•½ Â¥950 / â‚©8,550 (ë¡œìŠ¤ì¹´ì¸  ì •ì‹ ê¸°ì¤€)", tip: "ì‹ì‚¬ ì‹œê°„ì—ëŠ” í•­ìƒ ê¸´ ì¤„ì´ ìˆìŒ." },
                                { name: { kor: "ë¯¸ìš°ë¼ë¯¸ì‚¬í‚¤ì½”", jpn: "ä¸‰æµ¦ä¸‰å´æ¸¯", eng: "Miuramisakiko" }, description: "í¼ì§í•œ ë„¤íƒ€ê°€ íŠ¹ì§•ì¸ ì¸ê¸° íšŒì „ì´ˆë°¥", signatureMenu: "ì°¸ì¹˜, ì œì²  ìƒì„ ", menuDescription: "ì ‘ì‹œë¥¼ ê°€ë“ ì±„ìš°ëŠ” ì‹ ì„ í•œ íšŒì „ì´ˆë°¥", avgCostPerPerson: "ì•½ Â¥2,800 / â‚©25,200 (5~6ì ‘ì‹œ ê¸°ì¤€)", tip: "ì‹ì‚¬ ì‹œê°„ ì›¨ì´íŒ… ê°€ëŠ¥ì„±." },
                                { name: { kor: "ìš°ë‚˜í† í† ", jpn: "å®‡å¥ˆã¨ã¨", eng: "Unatoto" }, description: "ë‹¨ëˆ 550ì—”ë¶€í„° ì‹œì‘í•˜ëŠ” íŒŒê²©ì  ì¥ì–´ë®ë°¥", signatureMenu: "ìš°ë‚˜ë™", menuDescription: "ë‹¬ì½¤ì§­ì§¤í•œ ì†ŒìŠ¤ë¥¼ ë°”ë¥¸ ì¥ì–´êµ¬ì´ ë®ë°¥", avgCostPerPerson: "ì•½ Â¥900 / â‚©8,100 (ê¸°ë³¸ ìš°ë‚˜ë™ ê¸°ì¤€)", tip: "ì €ë ´í•˜ê²Œ ì¥ì–´ ë§›ë³´ê³  ì‹¶ì„ ë•Œ ìµœì ." },
                                { name: { kor: "ë¯¸ë‚˜í† ì•¼", jpn: "ã¿ãªã¨ã‚„", eng: "Minatoya" }, description: "ì‹œì¥ í•œë³µíŒì˜ ì‹ ì„ í•œ í•´ì‚°ë¬¼ ë®ë°¥", signatureMenu: "ì¹´ì´ì„¼ë™", menuDescription: "ë°¥ ìœ„ì— ì‹ ì„ í•œ íšŒë¥¼ ì˜¬ë¦° ë®ë°¥", avgCostPerPerson: "ì•½ Â¥800 / â‚©7,200 (ì¹´ì´ì„¼ë™ 1ê°œ ê¸°ì¤€)", tip: "ì„œì„œ ë¨¹ëŠ” ê³³ì´ë¼ íšŒì „ìœ¨ ë¹ ë¦„." },
                            ]},
                             { name: "ì ì‹¬ ì‹ì‚¬ í›„ ì‚°ì±…", icon: "ğŸš¶â€â™‚ï¸", content: [{ detail: "ì‹ì‚¬ í›„ ìš°ì—ë…¸ ê³µì› ë‚´ ë¯¸ìˆ ê´€ì´ë‚˜ ë°•ë¬¼ê´€ìœ¼ë¡œ ì´ë™í•˜ë©° ì§§ê²Œ ì‚°ì±…í•˜ê±°ë‚˜, ì•„ë©”ìš”ì½” ì‹œì¥ì—ì„œ ì†Œí™”ì‹œí‚¬ ê²¸ ë§ˆì§€ë§‰ ì‡¼í•‘ ì¦ê¸°ê¸°" }] },
                        ]
                    },
                    {
                        time: "ì˜¤í›„ 3:30 ~",
                        title: "ê³µí•­ìœ¼ë¡œ ì´ë™ ë° ì¶œêµ­",
                        items: [
                            { name: "ì¶œêµ­ ì¤€ë¹„", icon: "ğŸ", content: [{ detail: "ì•„í‚¤í•˜ë°”ë¼ í˜¸í…”ì—ì„œ ì§ ì°¾ê³  ê³µí•­ìœ¼ë¡œ ì´ë™. ì²´í¬ì¸ í›„ ë©´ì„¸ì ì—ì„œ 'ë„ì¿„ ë°€í¬ ì¹˜ì¦ˆ íŒ©í† ë¦¬', 'ë‰´ìš• í¼í™íŠ¸ ì¹˜ì¦ˆ' ë“± ì„ ë¬¼ êµ¬ë§¤" }] },
                        ]
                    }
                ]
            }
        };

        const contentArea = document.getElementById('content-area');
        const navButtons = document.querySelectorAll('.nav-button');
        let themeChart = null;
        let budgetChart = null;

        function createActionLinks(nameObj) {
            if (!nameObj || !nameObj.jpn) return '';
            const query = encodeURIComponent(nameObj.jpn);
            const mapLink = `<a href="https://www.google.com/maps/search/?api=1&query=${query}" target="_blank" rel="noopener noreferrer" class="map-link" title="êµ¬ê¸€ ì§€ë„ì—ì„œ ë³´ê¸°">ğŸ“</a>`;
            const copyButton = `<span class="copy-button" data-copy-text="${nameObj.jpn}" title="ì´ë¦„ ë³µì‚¬">ğŸ“‹</span>`;
            return mapLink + copyButton;
        }

        function renderOverview() {
            const dayData = tripData[0];
            let html = `<h2 class="text-2xl font-bold mb-4 text-amber-800">${dayData.title}</h2>`;

            dayData.sections.forEach(section => {
                html += `
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-3 flex items-center"><span class="mr-2">${section.icon}</span> ${section.title}</h3>
                        <div class="space-y-3">
                `;
                section.items.forEach(item => {
                    html += `
                        <div class="card p-4 rounded-lg shadow-sm border-l-amber-400">
                            <p class="font-semibold text-gray-800">${item.name}</p>
                            <div class="text-gray-600 text-sm mt-1">${item.content[0].detail}</div>
                        </div>
                    `;
                });
                html += `</div></div>`;
            });
            
            html += `
                <div class="grid md:grid-cols-2 gap-8 mt-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-3 text-center">ğŸ“Š ì¼ìë³„ í™œë™ í…Œë§ˆ</h3>
                        <div class="chart-container bg-white p-4 rounded-lg shadow-md"><canvas id="themeChart"></canvas></div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-3 text-center">ğŸ’° ì‹ì‚¬ ì˜ˆì‚° ë¶„ë°° (ì»¨ì…‰)</h3>
                        <div class="chart-container bg-white p-4 rounded-lg shadow-md"><canvas id="budgetChart"></canvas></div>
                    </div>
                </div>
            `;

            contentArea.innerHTML = html;
            renderCharts();
        }
        
        function renderDay(day) {
            if (day === 0) {
                renderOverview();
                return;
            }

            const dayData = tripData[day];
            let html = `<div class="grid lg:grid-cols-3 gap-8">`;
            
            html += `<div class="lg:col-span-2">`;
            html += `<h2 class="text-2xl font-bold mb-1 text-amber-800">${day}ì¼ì°¨: ${dayData.title}</h2>`;
            html += `<p class="text-md text-gray-500 mb-6">${dayData.theme}</p>`;
            html += `<div class="space-y-6">`;

            dayData.sections.forEach((section, sectionIndex) => {
                html += `
                    <div>
                        <div class="flex items-center mb-3">
                            <span class="bg-amber-500 text-white text-sm font-bold px-3 py-1 rounded-full">${section.time}</span>
                            <h3 class="text-xl font-semibold ml-3">${section.title}</h3>
                        </div>
                        <div class="space-y-3 pl-4 border-l-2 border-gray-200 ml-5">
                `;
                section.items.forEach((item, itemIndex) => {
                    const isHeatTip = item.type === 'heat-tip';
                    const itemName = typeof item.name === 'object' ? item.name.kor : item.name;
                    const actionLinks = createActionLinks(item.name);
                    const itemSubName = typeof item.name === 'object' ? `<p class="text-xs text-gray-400 mt-1">${item.name.jpn} / ${item.name.eng}</p>` : '';

                    let contentHtml = '';
                    item.content.forEach((detailItem, detailIndex) => {
                        if (detailItem.name) {
                            const detailActionLinks = createActionLinks(detailItem.name);
                            const dataPath = `${day}-${sectionIndex}-${itemIndex}-${detailIndex}`;
                            contentHtml += `
                                <div class="shop-detail">
                                    <div class="flex items-center">
                                        <p class="font-bold text-gray-800">${detailItem.name.kor}</p>
                                        ${detailActionLinks}
                                    </div>
                                    <p class="text-xs text-gray-400">${detailItem.name.jpn} / ${detailItem.name.eng}</p>
                                    <p class="text-sm text-gray-500 italic mt-1">"${detailItem.description}"</p>
                                    <div class="mt-2 text-sm space-y-1">
                                        <p><span class="font-semibold text-amber-700">ëŒ€í‘œë©”ë‰´:</span> ${detailItem.signatureMenu} <span class="text-gray-500 text-xs">- ${detailItem.menuDescription}</span></p>
                                        <p><span class="font-semibold text-amber-700">1ì¸ë‹¹ ì˜ˆìƒ ë¹„ìš©:</span> ${detailItem.avgCostPerPerson}</p>
                                        <p><span class="font-semibold text-amber-700">ê¿€íŒ:</span> ${detailItem.tip}</p>
                                    </div>
                                    <div class="mt-3 space-y-2">
                                        <div class="flex items-center gap-4">
                                            <label class="flex items-center cursor-pointer text-sm">
                                                <input type="checkbox" data-type="wantToGo" data-path="${dataPath}" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500" ${detailItem.wantToGo ? 'checked' : ''}>
                                                <span class="ml-2">ê°€ê³  ì‹¶ì–´ìš”</span>
                                            </label>
                                            <label class="flex items-center cursor-pointer text-sm">
                                                <input type="checkbox" data-type="visited" data-path="${dataPath}" class="h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500" ${detailItem.visited ? 'checked' : ''}>
                                                <span class="ml-2">ë‹¤ë…€ì™”ì–´ìš”</span>
                                            </label>
                                        </div>
                                        <textarea class="memo-textarea" data-type="memo" data-path="${dataPath}" placeholder="ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”...">${detailItem.memo || ''}</textarea>
                                    </div>
                                </div>
                            `;
                        } else {
                            contentHtml += `<div class="text-gray-600 text-sm">${detailItem.detail}</div>`;
                        }
                    });

                    html += `
                        <div class="card p-4 rounded-lg shadow-sm ${isHeatTip ? 'heat-tip' : ''}">
                            <div class="card-header flex justify-between items-center">
                                <div>
                                    <div class="flex items-center">
                                        <p class="font-semibold text-gray-800 flex items-center"><span class="mr-3 text-xl">${item.icon}</span> ${itemName}</p>
                                        ${actionLinks}
                                    </div>
                                    ${itemSubName}
                                </div>
                                <span class="text-amber-600 transform transition-transform duration-300">â–¼</span>
                            </div>
                            <div class="card-content pt-0">
                                <div class="mt-2 border-t pt-2">${contentHtml}</div>
                            </div>
                        </div>
                    `;
                });
                html += `</div></div>`;
            });
            html += `</div></div>`;

            html += `<div class="lg:col-span-1">`;
            html += `<div class="sticky top-6">`;
            html += `<div class="bg-white p-4 rounded-lg shadow-md mb-6">
                        <h3 class="text-lg font-bold mb-3 text-amber-800 flex items-center">âœ”ï¸ ${day}ì¼ì°¨ í•µì‹¬ ë¯¸ì…˜</h3>
                        <ul class="space-y-2">`;
            dayData.checklist.forEach((item, index) => {
                html += `<li class="checklist-item">
                            <label class="flex items-center cursor-pointer">
                                <input type="checkbox" data-day="${day}" data-index="${index}" class="h-4 w-4 rounded border-gray-300 text-amber-600 focus:ring-amber-500" ${item.done ? 'checked' : ''}>
                                <span class="ml-3 text-gray-700">${item.text}</span>
                            </label>
                         </li>`;
            });
            html += `</ul></div>`;
            html += `<div class="bg-blue-50 p-4 rounded-lg shadow-md border-l-4 border-blue-400">
                        <h3 class="text-lg font-bold mb-2 text-blue-800 flex items-center">ğŸ’¡ ${day}ì¼ì°¨ ë™ì„  í•˜ì´ë¼ì´íŠ¸</h3>
                        <p class="text-sm text-blue-700">${dayData.route_highlight}</p>
                     </div>`;
            html += `</div></div>`;

            html += `</div>`;
            contentArea.innerHTML = html;
        }

        function renderCharts() {
            if (themeChart) themeChart.destroy();
            if (budgetChart) budgetChart.destroy();

            const themeCtx = document.getElementById('themeChart').getContext('2d');
            themeChart = new Chart(themeCtx, {
                type: 'bar',
                data: {
                    labels: ['1ì¼ì°¨: ì „í†µ', '2ì¼ì°¨: ì„œë¸Œì»¬ì²˜', '3ì¼ì°¨: ì‡¼í•‘', '4ì¼ì°¨: ì‹œì¥'],
                    datasets: [{
                        label: 'ì£¼ìš” í™œë™',
                        data: [100, 100, 100, 100],
                        backgroundColor: ['#FBBF24', '#60A5FA', '#F472B6', '#34D399'],
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { display: false } }
                }
            });

            const budgetCtx = document.getElementById('budgetChart').getContext('2d');
            budgetChart = new Chart(budgetCtx, {
                type: 'doughnut',
                data: {
                    labels: ['ê°€ì„±ë¹„ ë§›ì§‘', 'íŠ¹ë³„í•œ ë§›ì§‘', 'ë””ì €íŠ¸/ê°„ì‹'],
                    datasets: [{
                        data: [50, 25, 25],
                        backgroundColor: ['#34D399', '#F472B6', '#FBBF24'],
                        borderColor: '#FDFBF8',
                        borderWidth: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: { callbacks: { label: (c) => `${c.label}: ${c.raw}%` } }
                    }
                }
            });
        }
        
        function saveData() {
            localStorage.setItem('tokyoTripPlanData', JSON.stringify(tripData));
        }

        function loadData() {
            const savedData = localStorage.getItem('tokyoTripPlanData');
            if (savedData) {
                const parsedData = JSON.parse(savedData);
                // Merge saved user data into the default tripData structure
                Object.keys(parsedData).forEach(dayKey => {
                    if (tripData[dayKey] && parsedData[dayKey].sections) {
                        parsedData[dayKey].sections.forEach((section, sectionIndex) => {
                            section.items.forEach((item, itemIndex) => {
                                item.content.forEach((detailItem, detailIndex) => {
                                    if (detailItem.name && tripData[dayKey].sections[sectionIndex]?.items[itemIndex]?.content[detailIndex]) {
                                        const target = tripData[dayKey].sections[sectionIndex].items[itemIndex].content[detailIndex];
                                        target.wantToGo = detailItem.wantToGo || false;
                                        target.visited = detailItem.visited || false;
                                        target.memo = detailItem.memo || '';
                                    }
                                });
                            });
                        });
                        if (parsedData[dayKey].checklist) {
                           tripData[dayKey].checklist = parsedData[dayKey].checklist;
                        }
                    }
                });
            }
        }

        navButtons.forEach(button => {
            button.addEventListener('click', () => {
                const day = parseInt(button.dataset.day);
                navButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                renderDay(day);
            });
        });
        
        contentArea.addEventListener('click', function(e) {
            const copyButton = e.target.closest('.copy-button');
            if (copyButton) {
                e.stopPropagation();
                const textToCopy = copyButton.dataset.copyText;
                const originalIcon = copyButton.innerHTML;

                const textArea = document.createElement('textarea');
                textArea.value = textToCopy;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);

                copyButton.innerHTML = 'âœ…';
                copyButton.classList.add('copied');
                setTimeout(() => {
                    copyButton.innerHTML = originalIcon;
                    copyButton.classList.remove('copied');
                }, 1500);
                return;
            }
            
            const header = e.target.closest('.card-header');
            if (header && !e.target.closest('.map-link')) {
                const content = header.nextElementSibling;
                const arrow = header.querySelector('span.text-amber-600');
                content.classList.toggle('open');
                if (content.classList.contains('open')) {
                    content.style.paddingTop = '0.5rem';
                    arrow.style.transform = 'rotate(180deg)';
                } else {
                    content.style.paddingTop = '0';
                    arrow.style.transform = 'rotate(0deg)';
                }
            }
        });

        contentArea.addEventListener('input', function(e) {
            const target = e.target;
            if (target.matches('input[type="checkbox"][data-path]')) {
                const [day, sectionIndex, itemIndex, detailIndex] = target.dataset.path.split('-');
                const type = target.dataset.type;
                tripData[day].sections[sectionIndex].items[itemIndex].content[detailIndex][type] = target.checked;
                saveData();
            } else if (target.matches('textarea[data-path]')) {
                const [day, sectionIndex, itemIndex, detailIndex] = target.dataset.path.split('-');
                tripData[day].sections[sectionIndex].items[itemIndex].content[detailIndex].memo = target.value;
                saveData();
            } else if (target.matches('input[type="checkbox"][data-day]')) {
                 const day = target.dataset.day;
                 const index = target.dataset.index;
                 tripData[day].checklist[index].done = target.checked;
                 saveData();
            }
        });

        // Initialize
        loadData();
        renderDay(0);
    </script>
</body>
</html>
